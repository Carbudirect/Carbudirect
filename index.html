<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comparateur Prix Carburants en France</title>
    <meta name="description" content="Trouvez facilement le carburant le moins cher dans votre département grâce à notre comparateur automatique actualisé toutes les 10 minutes.">
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: #f4f4f4; }
        h1 { text-align: center; }
        select, button { padding: 10px; font-size: 1em; }
        .station { background: #fff; padding: 15px; margin: 10px auto; max-width: 600px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); border-radius: 5px; }
        .price { font-weight: bold; }
    </style>
</head>
<body>
    <h1>Prix des carburants par département</h1>

    <div style="text-align: center;">
        <select id="departement">
            <!-- Liste complète des départements conservée ici -->
            <!-- ... (inchangée pour raccourcir cette mise à jour) ... -->
        </select>
        <button onclick="fetchData()">Chercher</button>
    </div>

    <div id="results"></div>

    <script>
        async function fetchData() {
            const dep = document.getElementById('departement').value;
            const res = await fetch('https://data.economie.gouv.fr/explore/dataset/prix-carburants-fichier-instantane/download?format=json');
            const data = await res.json();

            const results = data.filter(station => station.fields.dep_code === dep);
            const container = document.getElementById('results');
            container.innerHTML = '';

            results.forEach(station => {
                const ville = station.fields.ville || 'Ville inconnue';
                const adresse = station.fields.adresse || 'Adresse inconnue';
                const prixGazole = station.fields.prix_gazole || 'N/A';
                const prixSP95 = station.fields.prix_sp95 || 'N/A';
                const prixE85 = station.fields.prix_e85 || 'N/A';

                const div = document.createElement('div');
                div.className = 'station';
                div.innerHTML = `
                    <strong>${ville} - ${adresse}</strong><br>
                    Gazole : <span class="price">${prixGazole} €</span><br>
                    SP95 : <span class="price">${prixSP95} €</span><br>
                    E85 : <span class="price">${prixE85} €</span>
                `;
                container.appendChild(div);
            });
        }
    </script>

    <footer style="text-align: center; margin-top: 30px;">
        ©2025 Comparateur Carburants France
    </footer>
</body>
</html>
