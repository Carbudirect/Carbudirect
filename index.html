<!DOCTYPE html>
<html lang="fr">
<head>
    <!-- SEO + Réseaux sociaux -->
    <meta property="og:title" content="Comparateur Carburants France" />
    <meta property="og:description" content="Trouvez le carburant le moins cher dans votre département, avec des données officielles mises à jour toutes les 10 minutes." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://carbudirect.github.io/Carbudirect/" />
    <meta property="og:image" content="https://carbudirect.github.io/Carbudirect/og-image.png" />
    <meta name="twitter:card" content="summary" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="gfNpwq34tOsvQ34ZOqGCZt767HgSwJvZtdxfCDf3uHo" />
    <title>Comparateur Prix Carburants en France</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <meta name="description" content="Trouvez facilement le carburant le moins cher dans votre département grâce à notre comparateur automatique actualisé toutes les 10 minutes.">
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: #f4f4f4; }
        h1 { text-align: center; }
        select, button { padding: 10px; font-size: 1em; }
        .station { background: #fff; padding: 15px; margin: 10px auto; max-width: 600px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); border-radius: 5px; }
        .price { font-weight: bold; }
            .share-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 15px;
            font-size: 1em;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
        }
        .share-button:hover {
            background: #0056b3;
        }
        @media (max-width: 600px) {
            body { padding: 10px; }
            .station { padding: 10px; margin: 10px 5px; }
        }
            .scroll-top {
            display: none;
            position: fixed;
            bottom: 30px;
            right: 30px;
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            z-index: 1000;
        }
        .scroll-top:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <h1>Prix des carburants par département</h1>

    <div style="text-align: center;">
        <select id="departement">
            <option value="01">01 - Ain</option>
<option value="02">02 - Aisne</option>
<option value="03">03 - Allier</option>
<option value="04">04 - Alpes-de-Haute-Provence</option>
<option value="05">05 - Hautes-Alpes</option>
<option value="06">06 - Alpes-Maritimes</option>
<option value="07">07 - Ardèche</option>
<option value="08">08 - Ardennes</option>
<option value="09">09 - Ariège</option>
<option value="10">10 - Aube</option>
<option value="11">11 - Aude</option>
<option value="12">12 - Aveyron</option>
<option value="13">13 - Bouches-du-Rhône</option>
<option value="14">14 - Calvados</option>
<option value="15">15 - Cantal</option>
<option value="16">16 - Charente</option>
<option value="17">17 - Charente-Maritime</option>
<option value="18">18 - Cher</option>
<option value="19">19 - Corrèze</option>
<option value="2A">2A - Corse-du-Sud</option>
<option value="2B">2B - Haute-Corse</option>
<option value="21">21 - Côte-d'Or</option>
<option value="22">22 - Côtes-d'Armor</option>
<option value="23">23 - Creuse</option>
<option value="24">24 - Dordogne</option>
<option value="25">25 - Doubs</option>
<option value="26">26 - Drôme</option>
<option value="27">27 - Eure</option>
<option value="28">28 - Eure-et-Loir</option>
<option value="29">29 - Finistère</option>
<option value="30">30 - Gard</option>
<option value="31">31 - Haute-Garonne</option>
<option value="32">32 - Gers</option>
<option value="33">33 - Gironde</option>
<option value="34">34 - Hérault</option>
<option value="35">35 - Ille-et-Vilaine</option>
<option value="36">36 - Indre</option>
<option value="37">37 - Indre-et-Loire</option>
<option value="38">38 - Isère</option>
<option value="39">39 - Jura</option>
<option value="40">40 - Landes</option>
<option value="41">41 - Loir-et-Cher</option>
<option value="42">42 - Loire</option>
<option value="43">43 - Haute-Loire</option>
<option value="44">44 - Loire-Atlantique</option>
<option value="45">45 - Loiret</option>
<option value="46">46 - Lot</option>
<option value="47">47 - Lot-et-Garonne</option>
<option value="48">48 - Lozère</option>
<option value="49">49 - Maine-et-Loire</option>
<option value="50">50 - Manche</option>
<option value="51">51 - Marne</option>
<option value="52">52 - Haute-Marne</option>
<option value="53">53 - Mayenne</option>
<option value="54">54 - Meurthe-et-Moselle</option>
<option value="55">55 - Meuse</option>
<option value="56">56 - Morbihan</option>
<option value="57">57 - Moselle</option>
<option value="58">58 - Nièvre</option>
<option value="59">59 - Nord</option>
<option value="60">60 - Oise</option>
<option value="61">61 - Orne</option>
<option value="62">62 - Pas-de-Calais</option>
<option value="63">63 - Puy-de-Dôme</option>
<option value="64">64 - Pyrénées-Atlantiques</option>
<option value="65">65 - Hautes-Pyrénées</option>
<option value="66">66 - Pyrénées-Orientales</option>
<option value="67">67 - Bas-Rhin</option>
<option value="68">68 - Haut-Rhin</option>
<option value="69">69 - Rhône</option>
<option value="70">70 - Haute-Saône</option>
<option value="71">71 - Saône-et-Loire</option>
<option value="72">72 - Sarthe</option>
<option value="73">73 - Savoie</option>
<option value="74">74 - Haute-Savoie</option>
<option value="75">75 - Paris</option>
<option value="76">76 - Seine-Maritime</option>
<option value="77">77 - Seine-et-Marne</option>
<option value="78">78 - Yvelines</option>
<option value="79">79 - Deux-Sèvres</option>
<option value="80">80 - Somme</option>
<option value="81">81 - Tarn</option>
<option value="82">82 - Tarn-et-Garonne</option>
<option value="83">83 - Var</option>
<option value="84">84 - Vaucluse</option>
<option value="85">85 - Vendée</option>
<option value="86">86 - Vienne</option>
<option value="87">87 - Haute-Vienne</option>
<option value="88">88 - Vosges</option>
<option value="89">89 - Yonne</option>
<option value="90">90 - Territoire de Belfort</option>
<option value="91">91 - Essonne</option>
<option value="92">92 - Hauts-de-Seine</option>
<option value="93">93 - Seine-Saint-Denis</option>
<option value="94">94 - Val-de-Marne</option>
<option value="95">95 - Val-d'Oise</option>
        </select>
        <button onclick="fetchData()">Chercher</button>
    </div>

    <div id="results"></div>

    <div style="text-align: center; margin: 20px 0;">
        <label for="carburant">Filtrer par carburant :</label>
        <select id="carburant">
            <option value="all">Tous</option>
            <option value="prix_gazole">Gazole</option>
            <option value="prix_sp95">SP95</option>
            <option value="prix_e85">E85</option>
        </select>
    </div>

    <div style="text-align: center;">
        <button class="share-button" onclick="shareSite()">Partager ce site</button>
    </div>

    <script>
        async function fetchData() {
            const dep = document.getElementById('departement').value;
            const res = await fetch('https://data.economie.gouv.fr/explore/dataset/prix-carburants-fichier-instantane/download?format=json');
            const data = await res.json();

            const selectedFuel = document.getElementById('carburant').value;
            const results = data.filter(station => {
                const matchDep = station.fields.dep_code === dep;
                if (selectedFuel === 'all') return matchDep;
                return matchDep && station.fields[selectedFuel];
            });
            const container = document.getElementById('results');
            container.innerHTML = '';

            results.forEach(station => {
                const ville = station.fields.ville || 'Ville inconnue';
                const adresse = station.fields.adresse || 'Adresse inconnue';
                const prixGazole = station.fields.prix_gazole || 'N/A';
                const prixSP95 = station.fields.prix_sp95 || 'N/A';
                const prixE85 = station.fields.prix_e85 || 'N/A';

                const div = document.createElement('div');
                div.className = 'station';
                div.innerHTML = `
                    <strong>${ville} - ${adresse}</strong><br>
                    Gazole : <span class="price">${prixGazole} €</span><br>
                    SP95 : <span class="price">${prixSP95} €</span><br>
                    E85 : <span class="price">${prixE85} €</span>
                `;
                container.appendChild(div);
            });
        }
            function shareSite() {
            if (navigator.share) {
                navigator.share({
                    title: 'Comparateur Carburants France',
                    text: 'Trouvez les prix des carburants en temps réel dans votre département.',
                    url: window.location.href
                }).catch(console.error);
            } else {
                alert('Le partage automatique n’est pas supporté par votre navigateur.');
            }
        }
    </script>

    <footer style="text-align: center; margin-top: 30px;">
        ©2025 Comparateur Carburants France
    </footer>
    <button class="scroll-top" id="scrollTopBtn" onclick="scrollToTop()">↑ Haut</button>

    <script>
        window.onscroll = function() {
            const btn = document.getElementById("scrollTopBtn");
            if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
                btn.style.display = "block";
            } else {
                btn.style.display = "none";
            }
        };

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>
